<div class="content">
  <div class="container-fluid">
    <button mat-raised-button (click)="addDelivery()" color="primary">Записаться</button>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header card-header-primary">
            <h4 class="card-title ">Поставки</h4>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <!-- # Column -->
                <ng-container matColumnDef="No">
                  <mat-header-cell *matHeaderCellDef>№<br>п/п</mat-header-cell>
                  <mat-cell *matCellDef="let i = index"> {{i + 1}} </mat-cell>
                </ng-container>

                <!-- Id Column -->
                <ng-container matColumnDef="id">
                  <mat-header-cell *matHeaderCellDef>Номер<br>поставки</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell>
                </ng-container>

                <!-- Date Column -->
                <ng-container matColumnDef="date">
                  <mat-header-cell *matHeaderCellDef>Дата</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.deliveryDate}} </mat-cell>
                </ng-container>

                <!-- Time Column -->
                <ng-container matColumnDef="time">
                  <mat-header-cell *matHeaderCellDef>Время</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.deliveryTime.deliveryTime}} </mat-cell>
                </ng-container>

                <!-- Car Info Column -->
                <ng-container matColumnDef="car">
                  <mat-header-cell *matHeaderCellDef>Авто</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.carInfo}} </mat-cell>
                </ng-container>

                <!-- Driver Column -->
                <ng-container matColumnDef="driver">
                  <mat-header-cell *matHeaderCellDef>Водитель</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.driverInfo}} </mat-cell>
                </ng-container>

                <!-- Brand Column -->
                <ng-container matColumnDef="brand">
                  <mat-header-cell *matHeaderCellDef>Бренд</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.brand.name}} </mat-cell>
                </ng-container>

                <!-- Order Column -->
                <ng-container matColumnDef="order">
                  <mat-header-cell *matHeaderCellDef>Заказ</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.orderNumber}} </mat-cell>
                </ng-container>

                <!-- Delivery Type Column -->
                <ng-container matColumnDef="type">
                  <mat-header-cell *matHeaderCellDef>Тип<br>поставки</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.deliveryType.type}} </mat-cell>
                </ng-container>

                <!-- Sender Column -->
                <ng-container matColumnDef="sender">
                  <mat-header-cell *matHeaderCellDef>Отпра-<br>витель</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.sender}} </mat-cell>
                </ng-container>

                <!-- Comment Column -->
                <ng-container matColumnDef="comment">
                  <mat-header-cell *matHeaderCellDef>Коммен-<br>тарий</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.comment}} </mat-cell>
                </ng-container>

                <!-- Shop Column -->
                <ng-container matColumnDef="shop">
                  <mat-header-cell *matHeaderCellDef>Магазин</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.shop.name}} </mat-cell>
                </ng-container>

                <!-- Places Column -->
                <ng-container matColumnDef="places">
                  <mat-header-cell *matHeaderCellDef>Кол-во<br>мест</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.numberOfPlaces}} </mat-cell>
                </ng-container>

                <!-- Torg Column -->
                <ng-container matColumnDef="torg">
                  <mat-header-cell *matHeaderCellDef>Торг</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.torgNumber}} </mat-cell>
                </ng-container>

                <!-- Invoice Column -->
                <ng-container matColumnDef="invoice">
                  <mat-header-cell *matHeaderCellDef>Счет</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.invoice}} </mat-cell>
                </ng-container>

                <!-- Warehouse Column -->
                <ng-container matColumnDef="warehouse">
                  <mat-header-cell *matHeaderCellDef>Склад</mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.warehouse.name}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="loading">
                  <mat-footer-cell *matFooterCellDef colspan="0">
                    Данные загружаются....
                  </mat-footer-cell>
                </ng-container>

                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row (click)="editDelivery(row)" *matRowDef="let row; columns: displayedColumns;"></mat-row>
                <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':dataSource!=null && dataSource.data.length!=0}"></mat-footer-row>
              </mat-table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card">

          <div class="card-header card-header-primary" (paste)="data($event)">
            <h4 class="card-title ">Нажмите левой кнопкой мыши на эту надпись и вставьте Вашу excel таблицу (ctrl + v)</h4>
          </div>

          <div class="card-body">
            <div class="table-responsive">

              <mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <ng-container *ngFor="let column of displayedColumns2" [matColumnDef]="column">
                  <mat-header-cell class="text-primary" contenteditable="false"
                                   *matHeaderCellDef><b>{{column}}</b></mat-header-cell>
                  <mat-cell contenteditable="false" *matCellDef="let element"> {{element[column]}} </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns2"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns2;"></mat-row>
              </mat-table>

              <div style="text-align:center">
                <button mat-flat-button color=”accent” (click)="sendDeliveriesEvent()">
                  Подтвердить корректность данных и отправить
                </button>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>
